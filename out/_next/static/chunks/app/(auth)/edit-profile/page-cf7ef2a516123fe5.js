(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1744],{6205:function(e,t,a){Promise.resolve().then(a.bind(a,33118))},33118:function(e,t,a){"use strict";a.r(t);var l=a(3827),s=a(1017),i=a(4205),n=a(7908),r=a(47907),c=a(64090),o=a(83441),d=a.n(o);a(42413);var h=a(18009),u=a(71399),m=a(72658),p=a(70784);t.default=function(){let e=(0,r.useRouter)(),[t,a]=(0,c.useState)(null),[o,x]=(0,c.useState)(null),[y,g]=(0,c.useState)({name:"",phone:""}),[f,b]=(0,c.useState)(""),[j,v]=(0,c.useState)(""),[w,N]=(0,c.useState)(""),[k,Z]=(0,c.useState)([]),[C,S]=(0,c.useState)([]),[P,_]=(0,c.useState)([]),[I,F]=(0,c.useState)(""),[E,T]=(0,c.useState)(""),[U,V]=(0,c.useState)([]);(0,c.useEffect)(()=>{localStorage.getItem("token")||e.push("/login"),n.Z.get(i.Z+"/user/details",{headers:{"x-access-token":localStorage.getItem("token")}}).then(e=>{g(t=>({...t,name:e.data.name,phone:e.data.phoneNumber})),b(e.data.assembly),F(e.data.constituency),T(e.data.union),N(e.data.district),a(new Date(e.data.date_of_birth));let t="";""!==e.data.panchayath?(v(e.data.panchayath),x("panchayath"),t="panchayath"):""!==e.data.municipality?(v(e.data.municipality),x("municipality"),t="municipality"):""!==e.data.corporation&&(v(e.data.corporation),x("corporation"),t="corporation"),n.Z.get(i.Z+"/admin/districtV4?district="+e.data.district+"&constituency="+e.data.district).then(e=>{console.log(e.data),V(e.data)}),n.Z.get(i.Z+"/admin/districtV4?district="+e.data.district+"&constituency="+e.data.district+"&assembly="+e.data.assembly+"&local="+t).then(e=>{console.log(e.data),_(e.data)})}).catch(e=>{console.log(e)})},[]);let z=e=>{x(e.target.value),n.Z.get(i.Z+"/admin/districtV4?district="+w+"&constituency="+w+"&assembly="+f+"&local="+e.target.value).then(e=>{_(e.data)})};return(0,c.useEffect)(()=>{n.Z.get(i.Z+"/admin/districtV4").then(e=>{Z(e.data)}),n.Z.get(i.Z+"/admin/mandalam").then(e=>{S(e.data)})},[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.Z,{children:(0,l.jsxs)("div",{className:"edit-profile w-full min-h-screen flex flex-col justify-start items-center relative",style:{backgroundImage:"url('images/backimg.jpeg')",backgroundSize:"cover"},children:[(0,l.jsx)("h1",{className:"text-black text-2xl text-center font-bold my-7 mt-14 mb-4 top-text",children:"Edit Profile"}),(0,l.jsx)(p.lrP,{className:"text-xl cursor-pointer absolute top-5 left-5 top-text",onClick:()=>e.back()}),(0,l.jsxs)("div",{className:"flex-1 w-full justify-center items-center bg-slate-900 rounded-t-3xl mt-5",children:[(0,l.jsxs)("div",{className:"input-container pt-10 pb-5 flex flex-col w-full justify-center items-center",children:[(0,l.jsxs)("div",{style:{width:"80%",height:"50px"},className:"my-3 rounded-lg flex justify-start items-center border-2 border-white pl-5",children:[(0,l.jsx)(u.Xws,{size:24,color:"white"}),(0,l.jsx)("input",{type:"text",placeholder:"Name",onChange:e=>g({...y,name:e.target.value}),value:y.name,className:"bg-transparent border-none outline-none text-white pl-2 w-full"})]}),(0,l.jsxs)("div",{style:{width:"80%",height:"50px"},className:"my-3 rounded-lg flex justify-start items-center border-2 border-white pl-5",children:[(0,l.jsx)(u.I7T,{size:24,color:"white"}),(0,l.jsx)("input",{type:"number",placeholder:"Phone Number",onChange:e=>g({...y,phone:e.target.value}),value:y.phone,className:"bg-transparent border-none outline-none text-white pl-2 w-full"})]}),(0,l.jsxs)("div",{style:{width:"80%",height:"50px"},className:"my-3 rounded-lg flex justify-start items-center border-2 border-white pl-5",children:[(0,l.jsx)(u.RPl,{size:24,color:"white",className:"mr-2"}),(0,l.jsx)(d(),{selected:t,onChange:e=>{a(e)},placeholderText:"Birthday",dateFormat:"MM/dd/yyyy",className:"text-white bg-transparent border-none outline-none w-full"})]}),(0,l.jsxs)("select",{id:"union",onChange:e=>T(e.target.value),style:{width:"80%",height:"50px"},value:E,className:"my-3 rounded-lg flex justify-start items-center border-2 border-white pl-5 bg-slate-900 text-white",children:[(0,l.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Union"}),null===m.W||void 0===m.W?void 0:m.W.map((e,t)=>(0,l.jsx)("option",{className:"text-wrap",value:e,children:e},t))]}),(0,l.jsxs)("select",{id:"constituency",onChange:e=>F(e.target.value),style:{width:"80%",height:"50px"},value:I,className:"my-3 rounded-lg flex justify-start items-center border-2 border-white pl-5 bg-slate-900 text-white",children:[(0,l.jsx)("option",{selected:!0,value:"",children:"Loka Sabha"}),null==C?void 0:C.map(e=>(0,l.jsx)("option",{value:e.mandalam,children:e.mandalam},e._id))]}),(0,l.jsxs)("select",{id:"district",onChange:e=>{N(e.target.value),n.Z.get(i.Z+"/admin/districtV4?district="+e.target.value+"&constituency="+e.target.value).then(e=>{V(e.data),_([]),v(""),x(null)})},style:{width:"80%",height:"50px"},value:w,className:"my-3 rounded-lg flex justify-start items-center border-2 border-white pl-5 bg-slate-900 text-white",children:[(0,l.jsx)("option",{selected:!0,value:"",children:"District"}),null==k?void 0:k.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]}),U.length>0&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("select",{id:"assembly",onChange:e=>b(e.target.value),value:f,style:{width:"80%",height:"50px"},className:"my-3 rounded-lg flex justify-start items-center border-2 border-white pl-5 bg-slate-900 text-white",children:[(0,l.jsx)("option",{selected:!0,value:"",children:"Legislative Assembly"}),null==U?void 0:U.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})}),(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsxs)("label",{htmlFor:"panchayath",className:"flex pl-10 text-white",children:[(0,l.jsx)("input",{type:"radio",id:"panchayath",value:"panchayath",checked:"panchayath"===o,onChange:z,className:"mr-2"}),(0,l.jsx)("p",{className:"text-white",children:"Panchayath"})]}),(0,l.jsxs)("label",{htmlFor:"municipality",className:"flex pl-10 text-white",children:[(0,l.jsx)("input",{type:"radio",id:"municipality",value:"municipality",checked:"municipality"===o,onChange:z,className:"mr-2"}),(0,l.jsx)("p",{className:"text-white",children:"Municipality"})]}),(0,l.jsxs)("label",{htmlFor:"corporation",className:"flex pl-10 text-white",children:[(0,l.jsx)("input",{type:"radio",id:"corporation",value:"corporation",checked:"corporation"===o,onChange:z,className:"mr-2"}),(0,l.jsx)("p",{className:"text-white",children:"Corporation"})]})]}),P.length>0&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("select",{id:"local",onChange:e=>v(e.target.value),value:j,style:{width:"80%",height:"50px"},className:"my-3 rounded-lg flex justify-start items-center border-2 border-white pl-5 bg-slate-900 text-white",children:[(0,l.jsx)("option",{selected:!0,children:o}),null==P?void 0:P.map((e,t)=>(0,l.jsx)("option",{value:e,children:e},t))]})})]}),(0,l.jsx)("div",{className:"w-full flex justify-center items-center my-5",children:(0,l.jsx)("button",{onClick:a=>{if(a.preventDefault(),!y.name||!y.phone||""===f||""===w||""===I||""===j)return h.ZP.error("Please fill all the fields");let l="panchayath"===o?j:"",s="municipality"===o?j:"",r="corporation"===o?j:"";n.Z.put(i.Z+"/user/update",{name:y.name,phoneNumber:y.phone,date_of_birth:t,assembly:f,district:w,constituency:I,panchayath:l,municipality:s,corporation:r,union:E},{headers:{"x-access-token":localStorage.getItem("token")}}).then(t=>{200===t.status&&(h.ZP.success("Profile updated successfully"),e.push("/profile"))}).catch(e=>{h.ZP.error(e.response.data.message)})},className:"bg-amber-500 text-white w-80 text-xl py-2 rounded-xl font-semibold ",children:"Update"})})]})]})})})}},1017:function(e,t,a){"use strict";var l=a(3827);a(64090);var s=a(18009);t.Z=function(e){let{children:t}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-screen h-screen flex justify-center items-center overflow-x-hidden",children:(0,l.jsx)("div",{className:"md:w-[45%] w-full h-screen ",children:t})}),(0,l.jsx)(s.x7,{})]})}},4205:function(e,t){"use strict";t.Z="https://dccbackend.plusitpark.com/api"},72658:function(e,t,a){"use strict";a.d(t,{W:function(){return l}});let l=["ദേശീയ ചുമട്ടു തൊഴിലാളി യൂണിയൻ (INTUC)","കേരള മത്സ്യ വ്യവസായ തൊഴിലാളി കോൺഗ്രസ് (INTUC)","ഓൾ കേരള തയ്യൽ തൊഴിലാളി യൂണിയൻ (INTUC)","തൃശൂർ ജില്ലാ ഗ്രാമീണ തൊഴിലുറപ്പ് തൊഴിലാളി യൂണിയൻ (INTUC)","തൃശൂർ ജില്ലാ ഓട്ടോ ഡ്രൈവേഴ്സ് യൂണിയൻ","കേരള ലക്ഷ്മി മിൽ ലേബർ കോൺഗ്രസ്","കേരള സ്റ്റേറ്റ് തഴപ്പായ തൊഴിലാളി യൂണിയൻ","ഓൾ കേരള ഓട്ടോ കൺസൾറ്റൻറ്സ് ഓർഗനൈസേഷൻ","കേരള അംഗൻവാടി ആൻഡ് ക്രഷ് വർക്കേഴ്സ് യൂണിയൻ","കേരള പ്രദേശ് ആശാ വർക്കേഴ്സ് കോൺഗ്രസ്","കേരള സ്റ്റേറ്റ് ആഭരണ തൊഴിലാളി യൂണിയൻ","തൃശൂർ ജില്ലാ കൺസ്ട്രക്ഷൻ വർക്കേഴ്സ് യൂണിയൻ","അപ്പോളോ ടയർസ് സ്റ്റാഫ് ആൻഡ് വർക്കേഴ്സ് യൂണിയൻ"]}},function(e){e.O(0,[6051,7699,1544,1778,1296,7908,6546,2971,9362,560],function(){return e(e.s=6205)}),_N_E=e.O()}]);