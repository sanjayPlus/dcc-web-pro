(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[86],{2909:function(e,s,t){Promise.resolve().then(t.bind(t,64487))},64487:function(e,s,t){"use strict";t.r(s);var a=t(3827),l=t(26915),r=t(1017),n=t(4205),c=t(7908),i=t(47907),o=t(64090),d=t(18009),m=t(71399),x=t(70784),u=t(42151),h=t.n(u);s.default=function(){let e=(0,i.useRouter)(),[s,t]=(0,o.useState)([]),[u,f]=(0,o.useState)(!1),[b,g]=(0,o.useState)(!1),[j,p]=(0,o.useState)(!1),[N,v]=(0,o.useState)(null),[w,y]=(0,o.useState)(!1),[k,_]=(0,o.useState)(null);(0,o.useEffect)(()=>{localStorage.getItem("token")||e.push("/login"),c.Z.get(n.Z+"/user/details",{headers:{"x-access-token":localStorage.getItem("token")}}).then(e=>{t(e.data)}).catch(e=>{console.log(e)})},[b]);let C=()=>{let e=new FormData;e.append("profileImage",k),c.Z.post(n.Z+"/user/create-id-card",e,{headers:{"x-access-token":localStorage.getItem("token")},responseType:"arraybuffer"}).then(e=>{if(200===e.status){let s=new Blob([e.data],{type:"image/*"}),t=document.createElement("a");t.href=window.URL.createObjectURL(s),t.download="idcard.png",document.body.appendChild(t),t.click(),document.body.removeChild(t),f(!1)}}).catch(e=>{d.ZP.error("Something went wrong")})},S=()=>{c.Z.delete(n.Z+"/user/delete",{headers:{"x-access-token":localStorage.getItem("token")}}).then(s=>{200===s.status&&(localStorage.removeItem("token"),e.push("/login"))})};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(r.Z,{children:[(0,a.jsx)("div",{className:"profile-container w-full min-h-screen flex flex-col justify-center items-center relative",style:{backgroundImage:"url('images/backimg.jpeg')",backgroundSize:"cover"},children:(0,a.jsxs)("div",{className:"profile-card w-[90%] flex flex-col  items-center bg-white rounded-lg shadow-lg mt-9 mb-24 p-3 m-1",children:[(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center relative",children:[(0,a.jsx)(x.zmo,{className:"text-2xl cursor-pointer absolute top-16 right-11 bg-white rounded-full shadow-md w-8 h-8 p-1",onClick:()=>p(!0)}),(0,a.jsx)("img",{className:"w-24 h-24 object-cover rounded-full",src:s.profileImage?s.profileImage:"/images/profile.jpg"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-center mt-2",children:s.name}),(0,a.jsx)("p",{className:"text-sm text-center",children:s.email})]}),(0,a.jsxs)("div",{className:"max-w-2xl mx-auto justify-center items-start ",children:[(0,a.jsx)("table",{className:"table-fixed border-separate border-spacing-2 p-3 ",children:(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{className:"tr-profile",children:[(0,a.jsx)("td",{className:"text-sm ",children:"Phone"}),(0,a.jsxs)("td",{className:"text-sm",children:[": ",s.phoneNumber]})]}),(0,a.jsxs)("tr",{className:"tr-profile",children:[(0,a.jsx)("td",{className:"text-sm ",children:"DOB"}),(0,a.jsxs)("td",{className:"text-sm",children:[": ",h()(s.date_of_birth).format("DD-MM-YYYY")]})]}),(0,a.jsxs)("tr",{className:"tr-profile",children:[(0,a.jsx)("td",{className:"text-sm ",children:"Lok Sabha"}),(0,a.jsxs)("td",{className:"text-sm",children:[": ",s.constituency]})]}),(0,a.jsxs)("tr",{className:"tr-profile",children:[(0,a.jsx)("td",{className:"text-sm ",children:"Union"}),(0,a.jsxs)("td",{className:"text-sm",children:[":",s.union]})]}),(0,a.jsxs)("tr",{className:"tr-profile",children:[(0,a.jsx)("td",{className:"text-sm ",children:"District"}),(0,a.jsxs)("td",{className:"text-sm",children:[": ",s.district]})]}),(0,a.jsxs)("tr",{className:"tr-profile",children:[(0,a.jsx)("td",{className:"text-sm ",children:"Legislative Assembly"}),(0,a.jsxs)("td",{className:"text-sm",children:[": ",s.assembly]})]}),(0,a.jsxs)("tr",{className:"tr-profile",children:[(0,a.jsx)("td",{className:"text-sm ",children:"panchayath"}),(0,a.jsxs)("td",{className:"text-sm",children:[": ",s.panchayath]})]})]})}),(0,a.jsxs)("div",{className:"w-full flex gap-2 justify-center items-center",children:[(0,a.jsxs)("button",{onClick:()=>f(!0),className:"flex justify-around gap-2 items-center bg-amber-500 text-white py-2 px-4 mt-4 rounded-md hover:bg-amber-500 focus:outline-none focus:shadow-outline-blue active:bg-amber-500",children:[(0,a.jsx)(m.JND,{size:19}),(0,a.jsx)("p",{className:"text-sm text-nowrap m-0",children:"ID Card"})]}),(0,a.jsxs)("button",{onClick:()=>e.push("/edit-profile"),className:"flex justify-around gap-2 items-center bg-amber-500 text-white py-2 px-4  pl-5  pr-5 mt-4 rounded-md hover:bg-amber-500 focus:outline-none focus:shadow-outline-blue active:bg-amber-500",children:[(0,a.jsx)(x.zmo,{size:19})," ",(0,a.jsx)("p",{className:"text-sm text-nowrap m-0",children:"Edit"})]})]}),(0,a.jsx)("div",{className:"w-full flex justify-center items-center ",children:(0,a.jsxs)("button",{onClick:()=>y(!0),className:"flex  justify-around gap-2  items-center bg-red-500 text-white py-2 px-4 mt-4 rounded-md",children:[(0,a.jsx)(x.ZkW,{size:21}),(0,a.jsx)("p",{className:"text-sm text-nowrap m-0",children:"Delete Account"})]})})]})]})}),u&&(0,a.jsxs)("div",{className:"w-80 h-56 bg-white p-2 shadow-lg absolute top-60 ml-8 rounded-lg ",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-center",children:"Add Image To ID Card"}),(0,a.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",htmlFor:"small_size",children:"Small file input"}),(0,a.jsx)("input",{onChange:e=>{_(e.target.files[0])},className:"block w-full mb-5 text-xs text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400",id:"small_size",type:"file"}),(0,a.jsxs)("div",{className:"flex justify-around",children:[(0,a.jsx)("button",{onClick:()=>C(),className:"bg-amber-500 text-white p-2 rounded-md hover:bg-amber-500 focus:outline-none focus:shadow-outline-blue active:bg-amber-500",children:"Upload"}),(0,a.jsx)("button",{onClick:()=>f(!1),className:"bg-amber-500 text-white p-2  rounded-md hover:bg-amber-500 focus:outline-none focus:shadow-outline-blue active:bg-amber-500",children:"Cancel"})]})]}),j&&(0,a.jsxs)("div",{className:"w-80 h-56 bg-white p-2 shadow-lg absolute top-60 ml-8 rounded-lg ",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-center",children:"Add Profile Image"}),(0,a.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",htmlFor:"small_size",children:"Small file input"}),(0,a.jsx)("input",{onChange:e=>{v(e.target.files[0])},className:"block w-full mb-5 text-xs text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400",id:"small_size",type:"file"}),(0,a.jsxs)("div",{className:"flex justify-around",children:[(0,a.jsx)("button",{onClick:()=>{N||d.ZP.error("Please select an image");let e=new FormData;e.append("profileImage",N),c.Z.post(n.Z+"/user/profile-image",e,{headers:{"x-access-token":localStorage.getItem("token")}}).then(e=>{console.log(e),200===e.status&&(p(!1),g(!b),d.ZP.success("Profile image uploaded successfully"))})},className:"bg-amber-500 text-white p-2 rounded-md hover:bg-amber-500 focus:outline-none focus:shadow-outline-blue active:bg-amber-500",children:"Upload"}),(0,a.jsx)("button",{onClick:()=>p(!1),className:"bg-amber-500 text-white p-2  rounded-md hover:bg-amber-500 focus:outline-none focus:shadow-outline-blue active:bg-amber-500",children:"Cancel"})]})]}),w&&(0,a.jsxs)("div",{className:"w-80 h-56 bg-white p-2 shadow-lg absolute top-60 ml-8 rounded-lg ",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-center",children:"Delete Account"}),(0,a.jsx)("div",{className:"w-full flex justify-center items-center ",children:(0,a.jsxs)("button",{onClick:()=>S(),className:"flex  justify-around gap-2  items-center bg-red-500 text-white py-2 px-4 mt-4 rounded-md",children:[(0,a.jsx)(x.ZkW,{size:21}),(0,a.jsx)("p",{className:"text-sm text-nowrap m-0",children:"Delete"})]})}),(0,a.jsx)("div",{className:"w-full flex justify-center items-center ",children:(0,a.jsxs)("button",{onClick:()=>y(!1),className:"flex  justify-around gap-2  items-center bg-red-500 text-white py-2 px-4 mt-4 rounded-md",children:[(0,a.jsx)(x.B4e,{size:21}),(0,a.jsx)("p",{className:"text-sm text-nowrap m-0",children:"Cancel"})]})})]}),(0,a.jsx)(l.Z,{activeItem:"profile"})]})})}},26915:function(e,s,t){"use strict";var a=t(3827);t(64090);var l=t(71399);t(49106);var r=t(70784),n=t(47907),c=t(8792);t(50946),s.Z=function(e){let{activeItem:s}=e;return(0,n.useRouter)(),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"bottom-nav relative z-50",children:(0,a.jsx)("nav",{className:"md:w-[45%] w-full",children:(0,a.jsx)("div",{className:"nav-box nav-bg",children:(0,a.jsxs)("ul",{className:"nav-container",children:[(0,a.jsx)("li",{className:"nav__item ".concat("home"===s?"active":""),children:(0,a.jsxs)(c.default,{href:"/home",className:"nav__item-link",children:[(0,a.jsx)("div",{className:"nav__item-icon",children:(0,a.jsx)(l.xng,{size:24,className:"text-blue-800"})}),(0,a.jsx)("span",{className:"nav__item-text nav-text",children:"Home"})]})}),(0,a.jsx)("li",{className:"nav__item ".concat("gallery"===s?"active":""),children:(0,a.jsxs)(c.default,{href:"/gallery",className:"nav__item-link",children:[(0,a.jsx)("div",{className:"nav__item-icon",children:(0,a.jsx)(l.H3h,{size:24,className:"text-blue-800"})}),(0,a.jsx)("span",{className:"nav__item-text nav-text",children:"Gallery"})]})}),(0,a.jsx)("li",{className:"nav__item ".concat("events"===s?"active":""),children:(0,a.jsxs)(c.default,{href:"/events",className:"nav__item-link",children:[(0,a.jsx)("div",{className:"nav__item-icon",children:(0,a.jsx)(r.t_b,{size:24,className:"text-blue-800"})}),(0,a.jsx)("span",{className:"nav__item-text nav-text",children:"Events"})]})}),(0,a.jsx)("li",{className:"nav__item ".concat("profile"===s?"active":""),children:(0,a.jsxs)(c.default,{href:"/profile",className:"nav__item-link",children:[(0,a.jsx)("div",{className:"nav__item-icon",children:(0,a.jsx)(l.Xws,{size:24,className:"text-blue-800"})}),(0,a.jsx)("span",{className:"nav__item-text nav-text",children:"Profile"})]})})]})})})})})}},1017:function(e,s,t){"use strict";var a=t(3827);t(64090);var l=t(18009);s.Z=function(e){let{children:s}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-screen h-screen flex justify-center items-center overflow-x-hidden",children:(0,a.jsx)("div",{className:"md:w-[45%] w-full h-screen ",children:s})}),(0,a.jsx)(l.x7,{})]})}},4205:function(e,s){"use strict";s.Z="https://dccbackend.plusitpark.com/api"},50946:function(){},49106:function(){}},function(e){e.O(0,[6051,7699,6990,1296,7908,3985,2971,9362,560],function(){return e(e.s=2909)}),_N_E=e.O()}]);